<formula type="20" name="4th Celtic Burning Ship Partial Real Mbar" power="4" glitch="0.00001">
  <reference t="R">
    Xrn = abs(Xr2 * Xr2 + Xi2 * Xi2 - 6 * Xr2 * Xi2)  + Cr;
    Xin = Ci - 4 * abs(Xr) * Xi * (Xr2 - Xi2);
  </reference>
  <perturbation t="R">
    xrn = diffabs(Xr2 * Xr2 + Xi2 * Xi2 - 6 * Xr2 * Xi2, 4 * Xr2 * Xr * xr + 6 * Xr2 * xr2 + 4 * Xr * xr2 * xr + xr2 * xr2 + 4 * Xi2 * Xi * xi + 6 * Xi2 * xi2 + 4 * Xi * xi2 * xi + xi2 * xi2 - 12 * xr * Xr * Xi2 - 6 * xr2 * Xi2 - 12 * xi * Xr2 * Xi - 24 * xr * xi * Xr * Xi - 12 * xr2 * xi * Xi - 6 * xi2 * Xr2 - 12 * xr * xi2 * Xr - 6 * xr2 * xi2) + cr;
    xin = abs(Xr + xr) * (12 * Xi2 * xi + 12 * Xi * xi2 + 4 * xi2 * xi - 8 * xr * Xr * Xi - 4 * xr2 * Xi - 4 * xi * Xr2 - 8 * xr * xi * Xr - 4 * xr2 * xi) + diffabs(Xr, xr) * (4 * Xi2 * Xi - 4 * Xr2 * Xi) + ci;
  </perturbation>
  <derivative t='M'>
    dxan = ((4 * (sgn((abs((Xxi * (Xxi * (Xxi * Xxi)))) + ((abs((Xxi * (Xxi * (Xxr * Xxr)))) * ( - 6)) + abs((Xxr * (Xxr * (Xxr * Xxr))))))) * (sgn(Xxi) * (sgn(Xxi) * (sgn(Xxi) * (Xxi * (Xxi * (Xxi * (dya * sgn(Xxi)))))))))) + ((4 * (sgn((abs((Xxi * (Xxi * (Xxi * Xxi)))) + ((abs((Xxi * (Xxi * (Xxr * Xxr)))) * ( - 6)) + abs((Xxr * (Xxr * (Xxr * Xxr))))))) * (sgn(Xxr) * (sgn(Xxr) * (sgn(Xxr) * (Xxr * (Xxr * (Xxr * (dxa * sgn(Xxr)))))))))) + (( - 12 * (sgn((abs((Xxi * (Xxi * (Xxi * Xxi)))) + ((abs((Xxi * (Xxi * (Xxr * Xxr)))) * ( - 6)) + abs((Xxr * (Xxr * (Xxr * Xxr))))))) * (sgn(Xxi) * (sgn(Xxi) * (sgn(Xxr) * (Xxi * (Xxi * (Xxr * (dxa * sgn(Xxr)))))))))) + (( - 12 * (sgn((abs((Xxi * (Xxi * (Xxi * Xxi)))) + ((abs((Xxi * (Xxi * (Xxr * Xxr)))) * ( - 6)) + abs((Xxr * (Xxr * (Xxr * Xxr))))))) * (sgn(Xxi) * (sgn(Xxi) * (sgn(Xxr) * (Xxi * (Xxr * (Xxr * (dya * sgn(Xxr)))))))))) + daa))));
    dxbn = ((4 * (sgn((abs((Xxi * (Xxi * (Xxi * Xxi)))) + ((abs((Xxi * (Xxi * (Xxr * Xxr)))) * ( - 6)) + abs((Xxr * (Xxr * (Xxr * Xxr))))))) * (sgn(Xxi) * (sgn(Xxi) * (sgn(Xxi) * (Xxi * (Xxi * (Xxi * (dyb * sgn(Xxi)))))))))) + ((4 * (sgn((abs((Xxi * (Xxi * (Xxi * Xxi)))) + ((abs((Xxi * (Xxi * (Xxr * Xxr)))) * ( - 6)) + abs((Xxr * (Xxr * (Xxr * Xxr))))))) * (sgn(Xxr) * (sgn(Xxr) * (sgn(Xxr) * (Xxr * (Xxr * (Xxr * (dxb * sgn(Xxr)))))))))) + (( - 12 * (sgn((abs((Xxi * (Xxi * (Xxi * Xxi)))) + ((abs((Xxi * (Xxi * (Xxr * Xxr)))) * ( - 6)) + abs((Xxr * (Xxr * (Xxr * Xxr))))))) * (sgn(Xxi) * (sgn(Xxi) * (sgn(Xxr) * (Xxi * (Xxi * (Xxr * (dxb * sgn(Xxr)))))))))) + (( - 12 * (sgn((abs((Xxi * (Xxi * (Xxi * Xxi)))) + ((abs((Xxi * (Xxi * (Xxr * Xxr)))) * ( - 6)) + abs((Xxr * (Xxr * (Xxr * Xxr))))))) * (sgn(Xxi) * (sgn(Xxi) * (sgn(Xxr) * (Xxi * (Xxr * (Xxr * (dyb * sgn(Xxr)))))))))) + dab))));
    dyan = (( - 4 * (sgn(Xxi) * (sgn(Xxr) * (sgn(Xxr) * (Xxr * (Xxr * (Xxr * (dya * sgn(Xxr))))))))) + ((4 * (sgn(Xxi) * (sgn(Xxi) * (sgn(Xxi) * (Xxi * (Xxi * (Xxi * (dxa * sgn(Xxr))))))))) + ((12 * (sgn(Xxi) * (sgn(Xxi) * (sgn(Xxi) * (Xxi * (Xxi * (Xxr * (dya * sgn(Xxr))))))))) + (( - 12 * (sgn(Xxi) * (sgn(Xxr) * (sgn(Xxr) * (Xxi * (Xxr * (Xxr * (dxa * sgn(Xxr))))))))) + dba))));
    dybn = (( - 4 * (sgn(Xxi) * (sgn(Xxr) * (sgn(Xxr) * (Xxr * (Xxr * (Xxr * (dyb * sgn(Xxr))))))))) + ((4 * (sgn(Xxi) * (sgn(Xxi) * (sgn(Xxi) * (Xxi * (Xxi * (Xxi * (dxb * sgn(Xxr))))))))) + ((12 * (sgn(Xxi) * (sgn(Xxi) * (sgn(Xxi) * (Xxi * (Xxi * (Xxr * (dyb * sgn(Xxr))))))))) + (( - 12 * (sgn(Xxi) * (sgn(Xxr) * (sgn(Xxr) * (Xxi * (Xxr * (Xxr * (dxb * sgn(Xxr))))))))) + dbb))));
  </derivative>
</formula>
